{"ast":null,"code":"import styled from\"styled-components\";import{Link}from\"react-router-dom\";import{useSelector}from\"react-redux\";import{useEffect,useState}from\"react\";import ChangeViewModeContainer from\"./ChangeViewModeContainer\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ListBackground=styled.div`\n  width: 100%;\n  padding-bottom: 40px;\n`;const linkStyle={color:\"black\",textDecoration:\"none\"};const ListComponent=styled.ul`\n  width: 960px;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;const CardItemSpace=styled.div`\n  width: 320px;\n  height: 420px;\n  display: flex;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;const CardItemComponent=styled.div`\n  margin: 20px;\n  width: 300px;\n  height: 400px;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 4%) 0px 4px 16px 0px;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  transition: 0.25s ease-in 0s, transform 0.25s ease-in 0s;\n  &:hover {\n    margin-top: 10px;\n    box-shadow: rgb(0 0 0 / 16%) 0px 4px 16px 0px;\n  }\n  @media only screen and (max-width: 960px) {\n    width: calc(100vw - 40px);\n    margin: 0;\n    margin-top: 20px;\n  }\n`;const CardTitleComponent=styled.p`\n  box-sizing: border-box;\n  width: 300px;\n  height: 20px;\n  padding: 0px 15px;\n  margin: 0px;\n  margin-top: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;const ListTitleComponent=styled.p`\n  box-sizing: border-box;\n  width: 960px;\n  height: 60px;\n  padding: 15px 0px;\n  margin: 10px 0px;\n  margin-top: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  border-bottom: 1px solid #f1f1f1;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;const CardPreview=styled.p`\n  box-sizing: border-box;\n  padding: 10px;\n  height: 150px;\n  margin: 0;\n  font-weight: lighter;\n  font-size: 14px;\n  box-sizing: border-box;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;const Thumbnail=styled.img`\n  box-sizing: border-box;\n  width: 100%;\n  height: 200px;\n  background: #f5f5f5;\n`;const StyledLink=styled(Link)`\n  width: 100%;\n`;export function List(){const markdownFiles=useSelector(state=>state.mdFileState.state.markdownFiles);const markdownTitle=markdownFiles.map(file=>file.default.slice(14).split(\".\")[0]);const[ListItem,setListItem]=useState([]);const searchWord=useSelector(state=>state.searchState.state.searchKeyword);const viewMode=useSelector(state=>state.viewState.state.viewMode);useEffect(()=>{async function SetMarkdownUrl(){const posts=await Promise.all(markdownFiles.map(file=>file.default)).catch(err=>console.error(err));const post=await SetMarkdown(posts);CreateListItem(post);}async function SetMarkdown(url){const postArray=await Promise.all(url.map(url=>fetch(url).then(res=>res.text()).then(data=>{const preview=data.slice(0,150);return preview;}))).catch(err=>console.error(err));return postArray;}SetMarkdownUrl();const CreateListItem=postMarkdown=>{let index=0;viewMode===\"card\"?setListItem(markdownTitle.map(listTitle=>{const item=/*#__PURE__*/_jsx(Link,{to:`/view/${index}`,style:linkStyle,children:/*#__PURE__*/_jsx(CardItemSpace,{children:/*#__PURE__*/_jsxs(CardItemComponent,{children:[/*#__PURE__*/_jsx(Thumbnail,{}),/*#__PURE__*/_jsx(CardTitleComponent,{children:listTitle}),/*#__PURE__*/_jsx(CardPreview,{children:postMarkdown[index]})]})})},index);index++;return listTitle.toLowerCase().indexOf(searchWord.toLowerCase())===-1?null:item;})):setListItem(markdownTitle.map(listTitle=>{const item=/*#__PURE__*/_jsx(StyledLink,{to:`/view/${index}`,style:linkStyle,children:/*#__PURE__*/_jsx(ListTitleComponent,{children:listTitle})},index);index++;return listTitle.toLowerCase().indexOf(searchWord.toLowerCase())===-1?null:item;}));};},[searchWord,viewMode]);return/*#__PURE__*/_jsxs(ListBackground,{children:[/*#__PURE__*/_jsx(ChangeViewModeContainer,{}),/*#__PURE__*/_jsx(ListComponent,{children:ListItem})]});}","map":{"version":3,"names":["styled","Link","useSelector","useEffect","useState","ChangeViewModeContainer","jsx","_jsx","jsxs","_jsxs","ListBackground","div","linkStyle","color","textDecoration","ListComponent","ul","CardItemSpace","CardItemComponent","CardTitleComponent","p","ListTitleComponent","CardPreview","Thumbnail","img","StyledLink","List","markdownFiles","state","mdFileState","markdownTitle","map","file","default","slice","split","ListItem","setListItem","searchWord","searchState","searchKeyword","viewMode","viewState","SetMarkdownUrl","posts","Promise","all","catch","err","console","error","post","SetMarkdown","CreateListItem","url","postArray","fetch","then","res","text","data","preview","postMarkdown","index","listTitle","item","to","style","children","toLowerCase","indexOf"],"sources":["/Users/ohkyungtae/Desktop/react/Dowap2.github.io/src/Blog/Main/List/List.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport ChangeViewModeContainer from \"./ChangeViewModeContainer\";\n\nconst ListBackground = styled.div`\n  width: 100%;\n  padding-bottom: 40px;\n`;\nconst linkStyle = {\n  color: \"black\",\n  textDecoration: \"none\"\n};\nconst ListComponent = styled.ul`\n  width: 960px;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;\nconst CardItemSpace = styled.div`\n  width: 320px;\n  height: 420px;\n  display: flex;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;\nconst CardItemComponent = styled.div`\n  margin: 20px;\n  width: 300px;\n  height: 400px;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 4%) 0px 4px 16px 0px;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  transition: 0.25s ease-in 0s, transform 0.25s ease-in 0s;\n  &:hover {\n    margin-top: 10px;\n    box-shadow: rgb(0 0 0 / 16%) 0px 4px 16px 0px;\n  }\n  @media only screen and (max-width: 960px) {\n    width: calc(100vw - 40px);\n    margin: 0;\n    margin-top: 20px;\n  }\n`;\nconst CardTitleComponent = styled.p`\n  box-sizing: border-box;\n  width: 300px;\n  height: 20px;\n  padding: 0px 15px;\n  margin: 0px;\n  margin-top: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;\nconst ListTitleComponent = styled.p`\n  box-sizing: border-box;\n  width: 960px;\n  height: 60px;\n  padding: 15px 0px;\n  margin: 10px 0px;\n  margin-top: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  border-bottom: 1px solid #f1f1f1;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;\nconst CardPreview = styled.p`\n  box-sizing: border-box;\n  padding: 10px;\n  height: 150px;\n  margin: 0;\n  font-weight: lighter;\n  font-size: 14px;\n  box-sizing: border-box;\n  @media only screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;\nconst Thumbnail = styled.img`\n  box-sizing: border-box;\n  width: 100%;\n  height: 200px;\n  background: #f5f5f5;\n`;\nconst StyledLink = styled(Link)`\n  width: 100%;\n`;\n\nexport function List() {\n  const markdownFiles = useSelector(\n    state => state.mdFileState.state.markdownFiles\n  );\n  const markdownTitle = markdownFiles.map(\n    file => file.default.slice(14).split(\".\")[0]\n  );\n  const [ListItem, setListItem] = useState([]);\n  const searchWord = useSelector(\n    state => state.searchState.state.searchKeyword\n  );\n  const viewMode = useSelector(state => state.viewState.state.viewMode);\n\n  useEffect(() => {\n    async function SetMarkdownUrl() {\n      const posts = await Promise.all(\n        markdownFiles.map(file => file.default)\n      ).catch(err => console.error(err));\n\n      const post = await SetMarkdown(posts);\n      CreateListItem(post);\n    }\n\n    async function SetMarkdown(url) {\n      const postArray = await Promise.all(\n        url.map(url =>\n          fetch(url)\n            .then(res => res.text())\n            .then(data => {\n              const preview = data.slice(0, 150);\n              return preview;\n            })\n        )\n      ).catch(err => console.error(err));\n\n      return postArray;\n    }\n\n    SetMarkdownUrl();\n\n    const CreateListItem = postMarkdown => {\n      let index = 0;\n      viewMode === \"card\"\n        ? setListItem(\n            markdownTitle.map(listTitle => {\n              const item = (\n                <Link to={`/view/${index}`} style={linkStyle} key={index}>\n                  <CardItemSpace>\n                    <CardItemComponent>\n                      <Thumbnail />\n                      <CardTitleComponent>{listTitle}</CardTitleComponent>\n                      <CardPreview>{postMarkdown[index]}</CardPreview>\n                    </CardItemComponent>\n                  </CardItemSpace>\n                </Link>\n              );\n              index++;\n              return listTitle\n                .toLowerCase()\n                .indexOf(searchWord.toLowerCase()) === -1\n                ? null\n                : item;\n            })\n          )\n        : setListItem(\n            markdownTitle.map(listTitle => {\n              const item = (\n                <StyledLink to={`/view/${index}`} style={linkStyle} key={index}>\n                  <ListTitleComponent>{listTitle}</ListTitleComponent>\n                </StyledLink>\n              );\n              index++;\n              return listTitle\n                .toLowerCase()\n                .indexOf(searchWord.toLowerCase()) === -1\n                ? null\n                : item;\n            })\n          );\n    };\n  }, [searchWord, viewMode]);\n  return (\n    <ListBackground>\n      <ChangeViewModeContainer />\n      <ListComponent>{ListItem}</ListComponent>\n    </ListBackground>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}